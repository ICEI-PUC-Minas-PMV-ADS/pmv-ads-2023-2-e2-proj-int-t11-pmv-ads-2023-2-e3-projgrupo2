@model EassyDental.Models.UsuarioDentista

@{
    ViewData["Title"] = "Details";
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-7 col-sm-12 border rounded-3 p-4">
            <h1 class="text-black">
                @Html.DisplayFor(model => model.NomeClinica)
            </h1>
            <div class="row text-secondary fs-5">
                <div class="col-auto">
                    @Html.DisplayFor(model => model.HorarioAbertura) - @Html.DisplayFor(model => model.HorarioEncerramento)
                </div>
                <div class="col-auto border-start border-2">
                    @Html.DisplayFor(model => model.Endereco)
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-7">
                    <div class="row">
                        <h3 class="text-black">
                            @Html.DisplayFor(model => model.Name)
                        </h3>
                    </div>
                    <div class="row">
                        <div class="row text-secondary">
                            <div class="col-auto">
                                @Html.DisplayFor(model => model.CRO)
                            </div>
                            <div class="col-auto border-start border-2">
                                @Html.DisplayFor(model => model.Especialidade)
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-5 text-secondary align-self-end">
                    <div class="row mb-2">
                        telefone: @Html.DisplayFor(model => model.Telefone)
                    </div>
                    <div class="row">
                        e-mail: @Html.DisplayFor(model => model.Email)
                    </div>
                </div>
            </div>
            <div class="row">
                <a asp-action="Index" class="btn btn-sm btn-outline-secondary">Retornar</a>
            </div>
        </div>
        @if (User.IsInRole("Cliente"))
        {
            <form class="col-md-3 col-sm-12 border rounded-3 mb-5 p-4 align-self-center" id="formAgendar" method="post" action="@Url.Action("CreateEventos", "UsuarioDentistas")">
                <div class="mb-4 fs-1 fw-bold">Agendamento</div>
                <input type="hidden" name="id" value="@Model.Id" />

                <label for="horarioConsulta" class="h4 text-secondary">Escolha o horário:</label>
                <input class="mb-2" type="datetime-local" id="horarioConsulta" name="horarioConsulta" required />

                <div class="row">
                    <button class="btn btn-primary" type="button" onclick="agendar()">Agendar</button>
                </div>
            </form>
        }
    </div>
</div>

<script>
    function agendar() {
        var form = document.getElementById("formAgendar");
        form.submit();
    }
</script>
